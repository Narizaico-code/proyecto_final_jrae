<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">

<h:head>
    <title>Registro de Cliente</title>
    <link rel="stylesheet" href="https://unpkg.com/primeflex@latest/primeflex.css"/>
    <link rel="stylesheet" href="https://unpkg.com/primeflex@latest/themes/primeone-dark.css"/>
</h:head>

<h:body style="background-color: #F2F2F2; color: #400C0C;">
    <div class="p-4 mx-auto" style="max-width: 650px;">
        <h:form id="formRegistro">
            <p:growl id="growl" showDetail="true" life="3000" />

            <p:panel header="Registrese ahora"
                     style="background-color: white; border: 1px solid #A66F6F; border-radius: 8px; width: 600px; max-width: 100%; margin: 20px auto;">

                <f:facet name="header">
                    <h:outputText value="Registrese ahora"
                                  class="font-bold"
                                  style="background-color: #A66F6F; color: #400C0C; font-size: 1.25rem; padding: 0.5rem 1rem; display: block; margin: -1rem; border-radius: 8px 8px 0 0;"/>
                </f:facet>

                <p:panelGrid columns="2" layout="grid" style="width: 100%"
                             columnClasses="p-col-12 p-md-4, p-col-12 p-md-8">

                    <h:outputLabel for="name" value="Nombre" style="font-weight: bold; color: #400C0C;">
                        <span style="color: #591D1D;"> *</span>
                    </h:outputLabel>
                    <p:inputText id="name" value="#{registrarseControllerWeb.clienteView.name}"
                                 required="true" requiredMessage="Nombre es obligatorio"
                                 maxlength="150" style="border-color: #D9BFBF; color: #400C0C;"/>

                    <h:outputLabel for="lastName" value="Apellido" style="font-weight: bold; color: #400C0C;">
                        <span style="color: #591D1D;"> *</span>
                    </h:outputLabel>
                    <p:inputText id="lastName" value="#{registrarseControllerWeb.clienteView.lastName}"
                                 required="true" requiredMessage="Apellido es obligatorio"
                                 maxlength="150" style="border-color: #D9BFBF; color: #400C0C;"/>

                    <h:outputLabel for="nickname" value="Apodo" style="font-weight: bold; color: #400C0C;">
                        <span style="color: #591D1D;"> *</span>
                    </h:outputLabel>
                    <p:inputText id="nickname" value="#{registrarseControllerWeb.clienteView.nickname}"
                                 required="true" requiredMessage="Apodo es obligatorio"
                                 maxlength="50" style="border-color: #D9BFBF; color: #400C0C;"/>

                    <h:outputLabel for="password" value="Contraseña" style="font-weight: bold; color: #400C0C;">
                        <span style="color: #591D1D;"> *</span>
                    </h:outputLabel>
                    <p:password id="password" value="#{registrarseControllerWeb.clienteView.password}"
                                required="true" requiredMessage="Contraseña es obligatoria"
                                feedback="false" style="border-color: #D9BFBF; color: #400C0C;"/>

                    <h:outputLabel for="email" value="Correo Electrónico" style="font-weight: bold; color: #400C0C;">
                        <span style="color: #591D1D;"> *</span>
                    </h:outputLabel>
                    <p:inputText id="email" value="#{registrarseControllerWeb.clienteView.email}"
                                 required="true" requiredMessage="Correo es obligatorio"
                                 maxlength="100" style="border-color: #D9BFBF; color: #400C0C;"/>

                    <h:outputLabel for="phoneNumber" value="Teléfono" style="font-weight: bold; color: #400C0C;">
                        <span style="color: #591D1D;"> *</span>
                    </h:outputLabel>
                    <p:inputText id="phoneNumber" value="#{registrarseControllerWeb.clienteView.phoneNumber}"
                                 required="true" requiredMessage="Teléfono es obligatorio"
                                 maxlength="8" style="border-color: #D9BFBF; color: #400C0C;"/>

                    <h:outputLabel for="address" value="Dirección" style="font-weight: bold; color: #400C0C;">
                        <span style="color: #591D1D;"> *</span>
                    </h:outputLabel>
                    <p:inputText id="address" value="#{registrarseControllerWeb.clienteView.address}"
                                 required="true" requiredMessage="Dirección es obligatoria"
                                 maxlength="150" style="border-color: #D9BFBF; color: #400C0C;"/>

                </p:panelGrid>

                <p:separator style="margin-top: 1.5rem; margin-bottom: 1.5rem; border-color: #D9BFBF;"/>

                <div class="flex justify-content-end gap-2">
                    <p:commandButton value="Registrar" actionListener="#{registrarseControllerWeb.guardarUsuario}"
                                     update="growl, formRegistro"
                                     style="background-color: #400C0C; border-color: #400C0C; color: #F2F2F2;"
                                     icon="pi pi-check"/>

                    <p:commandButton value="Limpiar" actionListener="#{registrarseControllerWeb.prepararNuevoCliente}"
                                     update="formRegistro"
                                     style="background-color: #591D1D; border-color: #591D1D; color: #F2F2F2;"
                                     icon="pi pi-refresh" />

                    <p:button value="Cancelar" outcome="index.xhtml" immediate="true"
                              style="background-color: #A66F6F; border-color: #A66F6F; color: #400C0C;"
                              icon="pi pi-times" />
                </div>
            </p:panel>

            <p:dialog header="Éxito" widgetVar="modalExito" modal="true" resizable="false" draggable="false" style="border-radius: 8px;">
                <f:facet name="header">
                    <h:outputText value="Éxito" style="color: #400C0C; font-weight: bold;"/>
                </f:facet>
                <h:outputText value="#{registrarseControllerWeb.mensajeExito}" style="color: #400C0C;"/>
                <f:facet name="footer">
                    <p:commandButton value="Aceptar" oncomplete="PF('modalExito').hide()"
                                     style="background-color: #A66F6F; border-color: #A66F6F; color: #400C0C;"/>
                </f:facet>
            </p:dialog>

            <p:dialog header="Error" widgetVar="modalError" modal="true" resizable="false" draggable="false" style="border-radius: 8px;">
                <f:facet name="header">
                    <h:outputText value="Error" style="color: #591D1D; font-weight: bold;"/>
                </f:facet>
                <h:outputText value="#{registrarseControllerWeb.mensajeError}" style="color: #400C0C;"/>
                <f:facet name="footer">
                    <p:commandButton value="Aceptar" oncomplete="PF('modalError').hide()"
                                     style="background-color: #A66F6F; border-color: #A66F6F; color: #400C0C;"/>
                </f:facet>
            </p:dialog>
        </h:form>
    </div>
</h:body>
</html>